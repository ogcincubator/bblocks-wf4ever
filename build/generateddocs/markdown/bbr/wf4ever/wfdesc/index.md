
# Workflow Description Ontology (wfdesc) (Schema)

`ogc.bbr.wf4ever.wfdesc` *v1.0*

The Workflow Description ontology (wfdesc) describes the structure of workflows, including processes, inputs, outputs, and data flow.

[*Status*](http://www.opengis.net/def/status): Under development

## Description

# Workflow Description Ontology (wfdesc)

## Overview

The Workflow Description ontology (wfdesc) is part of the Wf4Ever Research Object Model. It provides a vocabulary for describing the structure of computational workflows.

## Namespace

`http://purl.org/wf4ever/wfdesc#`

## Key Classes

- **Workflow** - A directed graph of computational tasks
- **Process** - A unit of computation
- **Input** - An input parameter to a process
- **Output** - An output parameter from a process
- **Parameter** - A parameter (input or output)
- **DataLink** - Connection between outputs and inputs
- **Artifact** - A data value or file used/generated by a process
- **WorkflowInstance** - A workflow with all parameters defined

## Key Properties

- `hasInput` - Process has an input parameter
- `hasOutput` - Process has an output parameter
- `hasSubProcess` - Workflow contains a sub-process
- `hasSubWorkflow` - Workflow contains a nested workflow (specialization of hasSubProcess)
- `hasDataLink` - Workflow has data flow connection
- `hasSource` - DataLink source output
- `hasSink` - DataLink sink input
- `hasArtifact` - Parameter associated with an artifact

## Usage

This ontology is used to describe the prospective provenance of workflows - the structure and composition of a workflow before execution.

## Examples

### Simple Workflow Description
#### json
```json
{
  "@type": "Workflow",
  "@id": "http://example.org/workflow/my-analysis",
  "name": "Data Analysis Workflow",
  "description": "A simple workflow for data analysis",
  "hasInput": [
    {
      "@type": "Input",
      "@id": "http://example.org/workflow/my-analysis/input/data",
      "name": "input-data"
    }
  ],
  "hasOutput": [
    {
      "@type": "Output",
      "@id": "http://example.org/workflow/my-analysis/output/result",
      "name": "analysis-result"
    }
  ],
  "hasSubProcess": [
    {
      "@type": "Process",
      "@id": "http://example.org/workflow/my-analysis/process/transform",
      "name": "Data Transformation",
      "hasInput": [
        {
          "@type": "Input",
          "@id": "http://example.org/workflow/my-analysis/process/transform/input",
          "name": "raw-data"
        }
      ],
      "hasOutput": [
        {
          "@type": "Output",
          "@id": "http://example.org/workflow/my-analysis/process/transform/output",
          "name": "transformed-data"
        }
      ]
    }
  ],
  "hasDataLink": [
    {
      "@type": "DataLink",
      "hasSource": {
        "@id": "http://example.org/workflow/my-analysis/input/data"
      },
      "hasSink": {
        "@id": "http://example.org/workflow/my-analysis/process/transform/input"
      }
    }
  ]
}

```

#### jsonld
```jsonld
{
  "@context": "https://geolabs.github.io/bblocks-wf4ever/build/annotated/bbr/wf4ever/wfdesc/context.jsonld",
  "@type": "Workflow",
  "@id": "http://example.org/workflow/my-analysis",
  "name": "Data Analysis Workflow",
  "description": "A simple workflow for data analysis",
  "hasInput": [
    {
      "@type": "Input",
      "@id": "http://example.org/workflow/my-analysis/input/data",
      "name": "input-data"
    }
  ],
  "hasOutput": [
    {
      "@type": "Output",
      "@id": "http://example.org/workflow/my-analysis/output/result",
      "name": "analysis-result"
    }
  ],
  "hasSubProcess": [
    {
      "@type": "Process",
      "@id": "http://example.org/workflow/my-analysis/process/transform",
      "name": "Data Transformation",
      "hasInput": [
        {
          "@type": "Input",
          "@id": "http://example.org/workflow/my-analysis/process/transform/input",
          "name": "raw-data"
        }
      ],
      "hasOutput": [
        {
          "@type": "Output",
          "@id": "http://example.org/workflow/my-analysis/process/transform/output",
          "name": "transformed-data"
        }
      ]
    }
  ],
  "hasDataLink": [
    {
      "@type": "DataLink",
      "hasSource": {
        "@id": "http://example.org/workflow/my-analysis/input/data"
      },
      "hasSink": {
        "@id": "http://example.org/workflow/my-analysis/process/transform/input"
      }
    }
  ]
}
```

#### ttl
```ttl
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix wfdesc: <http://purl.org/wf4ever/wfdesc#> .

<http://example.org/workflow/my-analysis> a wfdesc:Workflow ;
    rdfs:label "Data Analysis Workflow" ;
    wfdesc:hasDataLink [ a wfdesc:DataLink ;
            wfdesc:hasSink <http://example.org/workflow/my-analysis/process/transform/input> ;
            wfdesc:hasSource <http://example.org/workflow/my-analysis/input/data> ] ;
    wfdesc:hasInput <http://example.org/workflow/my-analysis/input/data> ;
    wfdesc:hasOutput <http://example.org/workflow/my-analysis/output/result> ;
    wfdesc:hasSubProcess <http://example.org/workflow/my-analysis/process/transform> ;
    rdfs:comment "A simple workflow for data analysis" .

<http://example.org/workflow/my-analysis/output/result> a wfdesc:Output ;
    rdfs:label "analysis-result" .

<http://example.org/workflow/my-analysis/process/transform> a wfdesc:Process ;
    rdfs:label "Data Transformation" ;
    wfdesc:hasInput <http://example.org/workflow/my-analysis/process/transform/input> ;
    wfdesc:hasOutput <http://example.org/workflow/my-analysis/process/transform/output> .

<http://example.org/workflow/my-analysis/process/transform/output> a wfdesc:Output ;
    rdfs:label "transformed-data" .

<http://example.org/workflow/my-analysis/input/data> a wfdesc:Input ;
    rdfs:label "input-data" .

<http://example.org/workflow/my-analysis/process/transform/input> a wfdesc:Input ;
    rdfs:label "raw-data" .


```

## Schema

```yaml
$schema: https://json-schema.org/draft/2020-12/schema
description: Workflow Description schema based on wfdesc ontology
type: object
properties:
  '@type':
    oneOf:
    - type: string
      enum:
      - Workflow
      - Process
      - Input
      - Output
      - Parameter
      - DataLink
      - Configuration
    - type: array
      items:
        type: string
  name:
    type: string
    description: Name of the workflow or process
    x-jsonld-id: http://www.w3.org/2000/01/rdf-schema#label
  description:
    type: string
    description: Description of the workflow or process
    x-jsonld-id: http://www.w3.org/2000/01/rdf-schema#comment
  hasInput:
    type: array
    items:
      type: object
    description: Input parameters
    x-jsonld-id: http://purl.org/wf4ever/wfdesc#hasInput
    x-jsonld-type: '@id'
  hasOutput:
    type: array
    items:
      type: object
    description: Output parameters
    x-jsonld-id: http://purl.org/wf4ever/wfdesc#hasOutput
    x-jsonld-type: '@id'
  hasSubProcess:
    type: array
    items:
      type: object
    description: Sub-processes within the workflow
    x-jsonld-id: http://purl.org/wf4ever/wfdesc#hasSubProcess
    x-jsonld-type: '@id'
  hasDataLink:
    type: array
    items:
      type: object
    description: Data flow links
    x-jsonld-id: http://purl.org/wf4ever/wfdesc#hasDataLink
    x-jsonld-type: '@id'
  hasSource:
    type: object
    description: Source output of a data link
    x-jsonld-id: http://purl.org/wf4ever/wfdesc#hasSource
    x-jsonld-type: '@id'
  hasSink:
    type: object
    description: Sink input of a data link
    x-jsonld-id: http://purl.org/wf4ever/wfdesc#hasSink
    x-jsonld-type: '@id'
x-jsonld-extra-terms:
  Workflow: http://purl.org/wf4ever/wfdesc#Workflow
  Process: http://purl.org/wf4ever/wfdesc#Process
  Input: http://purl.org/wf4ever/wfdesc#Input
  Output: http://purl.org/wf4ever/wfdesc#Output
  Parameter: http://purl.org/wf4ever/wfdesc#Parameter
  DataLink: http://purl.org/wf4ever/wfdesc#DataLink
  Configuration: http://purl.org/wf4ever/wfdesc#Configuration
x-jsonld-prefixes:
  wfdesc: http://purl.org/wf4ever/wfdesc#
  rdfs: http://www.w3.org/2000/01/rdf-schema#

```

Links to the schema:

* YAML version: [schema.yaml](https://geolabs.github.io/bblocks-wf4ever/build/annotated/bbr/wf4ever/wfdesc/schema.json)
* JSON version: [schema.json](https://geolabs.github.io/bblocks-wf4ever/build/annotated/bbr/wf4ever/wfdesc/schema.yaml)


# JSON-LD Context

```jsonld
{
  "@context": {
    "Workflow": "wfdesc:Workflow",
    "Process": "wfdesc:Process",
    "Input": "wfdesc:Input",
    "Output": "wfdesc:Output",
    "Parameter": "wfdesc:Parameter",
    "DataLink": "wfdesc:DataLink",
    "Configuration": "wfdesc:Configuration",
    "name": "rdfs:label",
    "description": "rdfs:comment",
    "hasInput": {
      "@id": "wfdesc:hasInput",
      "@type": "@id"
    },
    "hasOutput": {
      "@id": "wfdesc:hasOutput",
      "@type": "@id"
    },
    "hasSubProcess": {
      "@id": "wfdesc:hasSubProcess",
      "@type": "@id"
    },
    "hasDataLink": {
      "@id": "wfdesc:hasDataLink",
      "@type": "@id"
    },
    "hasSource": {
      "@id": "wfdesc:hasSource",
      "@type": "@id"
    },
    "hasSink": {
      "@id": "wfdesc:hasSink",
      "@type": "@id"
    },
    "wfdesc": "http://purl.org/wf4ever/wfdesc#",
    "rdfs": "http://www.w3.org/2000/01/rdf-schema#",
    "@version": 1.1
  }
}
```

You can find the full JSON-LD context here:
[context.jsonld](https://geolabs.github.io/bblocks-wf4ever/build/annotated/bbr/wf4ever/wfdesc/context.jsonld)

## Sources

* [Workflow Description Ontology](http://purl.org/wf4ever/wfdesc)

# For developers

The source code for this Building Block can be found in the following repository:

* URL: [https://github.com/GeoLabs/bblocks-wf4ever](https://github.com/GeoLabs/bblocks-wf4ever)
* Path: `_sources/wfdesc`

