

{
  "itemIdentifier": "ogc.bbr.wf4ever.wf4ever-profiles.complete-provenance-trace",
  "name": "Complete Workflow Provenance Trace",
  "abstract": "Master profile combining Research Object, Workflow Description, and Workflow Execution Provenance",
  "status": "under-development",
  "dateTimeAddition": "2025-01-11T00:00:00Z",
  "itemClass": "schema",
  "register": "wf4ever",
  "version": "0.1",
  "dateOfLastChange": "2025-11-12",
  "maturity": "development",
  "scope": "unstable",
  "sources": [
    {
      "title": "Wf4Ever Research Object Model",
      "link": "http://purl.org/wf4ever/model"
    },
    {
      "title": "CWLProv - Provenance profiles for Common Workflow Language",
      "link": "https://w3id.org/cwl/prov"
    }
  ],
  "sourceSchema": "https://ogcincubator.github.io/bblocks-wf4ever/_sources/wf4ever-profiles/complete-provenance-trace/schema.yaml",
  "sourceContext": "context.jsonld",
  "dependsOn": [
    "ogc.bbr.wf4ever.ro.Manifest",
    "ogc.bbr.wf4ever.wfdesc.Workflow",
    "ogc.bbr.wf4ever.ro.ResearchObject",
    "ogc.bbr.wf4ever.wfprov.WorkflowRun"
  ],
  "tags": [
    "provenance",
    "workflow",
    "research-object",
    "cwl",
    "profile",
    "end-to-end"
  ],
  "description": "# Complete Workflow Provenance Trace\n\n## Overview\n\nThis master profile demonstrates the full integration of the Wf4Ever ontology suite, combining:\n\n1. **Research Object (RO)**: Container and packaging\n2. **Workflow Description (WFDESC)**: Prospective provenance\n3. **Workflow Execution (WFPROV)**: Retrospective provenance\n\n## Purpose\n\nThis building block serves as:\n\n- **Integration test**: Validates that all Wf4Ever components work together\n- **Documentation**: Shows how to combine all pieces\n- **Example**: Real CWLProv data from scientific workflow\n- **Validation**: End-to-end test of RDF graph generation\n\n## Structure\n\nA complete provenance trace contains four main components:\n\n### 1. Research Object\n\nThe container that aggregates all resources:\n\n```json\n{\n  \"researchObject\": {\n    \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/\",\n    \"type\": \"ResearchObject\",\n    \"aggregates\": [...],\n    \"annotations\": [...]\n  }\n}\n```\n\n**Key properties:**\n- `aggregates`: All files, data, workflows included\n- `annotations`: Metadata about aggregated resources\n- `manifest`: Points to the RO manifest\n- `conformsTo`: CWLProv version\n\n### 2. Workflow Description\n\nThe workflow structure (prospective provenance):\n\n```json\n{\n  \"workflow\": {\n    \"id\": \"arcp://uuid,.../workflow/packed.cwl#main\",\n    \"type\": \"Workflow\",\n    \"hasInput\": [...],\n    \"hasOutput\": [...]\n  }\n}\n```\n\n**Key properties:**\n- `hasInput`: Input parameters of the workflow\n- `hasOutput`: Output parameters of the workflow\n- `hasSubWorkflow`: Nested workflows (if any)\n\n### 3. Workflow Execution\n\nThe execution trace (retrospective provenance):\n\n```json\n{\n  \"workflowRun\": {\n    \"id\": \"urn:uuid:f02b8997-a6b1-4909-9946-9129c2b3f10c\",\n    \"type\": \"WorkflowRun\",\n    \"describedByWorkflow\": \"arcp://uuid,.../workflow/packed.cwl#main\",\n    \"used\": [...],\n    \"generated\": [...],\n    \"wasAssociatedWith\": [...]\n  }\n}\n```\n\n**Key properties:**\n- `describedByWorkflow`: Links to workflow definition\n- `used`: Input artifacts consumed\n- `generated`: Output artifacts produced\n- `wasAssociatedWith`: Agents/engines that executed\n- `startedAtTime` / `endedAtTime`: Execution timeline\n\n### 4. Manifest\n\nThe RO manifest describing the bundle:\n\n```json\n{\n  \"manifest\": {\n    \"id\": \"arcp://uuid,.../metadata/manifest.json\",\n    \"type\": \"Manifest\",\n    \"authoredBy\": {...},\n    \"describes\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/\"\n  }\n}\n```\n\n## Relationships\n\nThe complete trace shows these key relationships:\n\n```\nResearch Object\n    \u251c\u2500 ore:aggregates \u2192 Workflow (WFDESC)\n    \u251c\u2500 ore:aggregates \u2192 WorkflowRun Provenance (WFPROV)\n    \u251c\u2500 ore:aggregates \u2192 Input Data\n    \u251c\u2500 ore:aggregates \u2192 Output Data\n    \u2514\u2500 ore:isDescribedBy \u2192 Manifest\n\nWorkflow (WFDESC)\n    \u251c\u2500 wfdesc:hasInput \u2192 Input Parameters\n    \u2514\u2500 wfdesc:hasOutput \u2192 Output Parameters\n\nWorkflowRun (WFPROV)\n    \u251c\u2500 wfprov:describedByWorkflow \u2192 Workflow\n    \u251c\u2500 prov:used \u2192 Input Artifacts\n    \u251c\u2500 prov:generated \u2192 Output Artifacts\n    \u251c\u2500 prov:wasAssociatedWith \u2192 Agents\n    \u251c\u2500 prov:startedAtTime \u2192 Start Time\n    \u2514\u2500 prov:endedAtTime \u2192 End Time\n```\n\n## PROV-O Mapping\n\nThis complete trace maps to PROV-O as follows:\n\n- **Research Object** \u2192 `prov:Collection` (specialized as `prov:Bundle`)\n- **Workflow** \u2192 Description (no direct PROV equivalent, stays in WFDESC)\n- **WorkflowRun** \u2192 `prov:Activity`\n- **Input/Output Artifacts** \u2192 `prov:Entity`\n- **Workflow Engine** \u2192 `prov:Agent` (specialized as `prov:SoftwareAgent`)\n\n## Use Cases\n\n### 1. Scientific Workflow Archival\n\nPackage a complete workflow execution for long-term preservation:\n\n- Workflow definition (how to reproduce)\n- Execution trace (what actually happened)\n- Input data (what was used)\n- Output data (what was generated)\n- Software environment (how it was run)\n\n### 2. Reproducibility\n\nEnable others to:\n\n1. Understand the workflow structure\n2. See the actual execution parameters\n3. Trace data lineage\n4. Reproduce the results\n\n### 3. FAIR Data Compliance\n\nMeet FAIR principles:\n\n- **Findable**: Unique identifiers for all components\n- **Accessible**: Standard formats (JSON-LD, RDF)\n- **Interoperable**: Standard ontologies (PROV-O, DCAT)\n- **Reusable**: Complete provenance metadata\n\n### 4. Workflow Comparison\n\nCompare different executions:\n\n- Same workflow, different parameters\n- Same workflow, different data\n- Different versions of workflow\n- Performance analysis\n\n## Example: Mangrove Mapping Workflow\n\nThe included example shows a real scientific workflow for mangrove mapping using Sentinel-2 satellite imagery.\n\n**Workflow inputs:**\n- `cloud_cover_max`: 20% (maximum acceptable cloud coverage)\n- `days_back`: 90 (days of historical data)\n- `east`: 95.35\u00b0 (longitude)\n- `north`: 16.1\u00b0 (latitude)\n\n**Execution:**\n- Started: 2025-11-03T15:14:02\n- Ended: 2025-11-03T15:14:17\n- Duration: ~15 seconds\n- Engine: cwltool 3.1.20251031082601\n\n**Outputs:**\n- Mangrove classification results\n- Aggregated in Research Object\n\n## Validation\n\nThis building block enables validation at multiple levels:\n\n1. **JSON Schema**: Structure validation\n2. **JSON-LD**: RDF graph generation\n3. **SHACL**: Semantic constraints (future)\n4. **PROV Constraints**: PROV-O model compliance (future)\n\n## Next Steps\n\nTo complete the master profile validation:\n\n1. \u2705 Create complete trace schema\n2. \u2705 Create real example\n3. \u23f3 Add SHACL shapes for validation\n4. \u23f3 Create SPARQL queries for analysis\n5. \u23f3 Generate transformations to other formats\n\n## See Also\n\n- [Research Object](../ro/ResearchObject/description.md)\n- [Workflow](../wfdesc/Workflow/description.md)\n- [WorkflowRun](../wfprov/WorkflowRun/description.md)\n- [CWLProv Specification](https://w3id.org/cwl/prov)\n",
  "shaclShapes": {},
  "ldContext": "https://ogcincubator.github.io/bblocks-wf4ever/build/annotated/bbr/wf4ever/wf4ever-profiles/complete-provenance-trace/context.jsonld",
  "schema": {
    "application/yaml": "https://ogcincubator.github.io/bblocks-wf4ever/build/annotated/bbr/wf4ever/wf4ever-profiles/complete-provenance-trace/schema.yaml",
    "application/json": "https://ogcincubator.github.io/bblocks-wf4ever/build/annotated/bbr/wf4ever/wf4ever-profiles/complete-provenance-trace/schema.json"
  },
  "sourceLdContext": "https://ogcincubator.github.io/bblocks-wf4ever/_sources/wf4ever-profiles/complete-provenance-trace/context.jsonld",
  "sourceFiles": "https://ogcincubator.github.io/bblocks-wf4ever/_sources/wf4ever-profiles/complete-provenance-trace/",
  "rdfData": [],
  "validationPassed": false,
  "testOutputs": "https://github.com/ogcincubator/bblocks-wf4ever/blob/master/build/tests/bbr/wf4ever/wf4ever-profiles/complete-provenance-trace/",
  "examples": [
    {
      "title": "Complete Mangrove Workflow Provenance Trace",
      "description": "Complete end-to-end provenance trace combining Research Object, Workflow description, and execution trace from a real CWLProv workflow run processing Sentinel-2 mangrove imagery",
      "snippets": [
        {
          "language": "json",
          "ref": "examples/mangrove-complete-trace.json",
          "code": "{\n  \"researchObject\": {\n    \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/\",\n    \"type\": \"ResearchObject\",\n    \"conformsTo\": \"https://w3id.org/cwl/prov/0.6.0\",\n    \"manifest\": \"metadata/manifest.json\",\n    \"createdOn\": \"2025-11-03T15:14:17.166945\",\n    \"createdBy\": {\n      \"uri\": \"urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60\",\n      \"name\": \"cwltool 3.1.20251031082601\"\n    },\n    \"aggregates\": [\n      {\n        \"id\": \"urn:hash::sha1:e71003c6b7dd4093ce139ac0c51a6ba38d54a439\",\n        \"bundledAs\": {\n          \"uri\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/data/e7/e71003c6b7dd4093ce139ac0c51a6ba38d54a439\",\n          \"folder\": \"/data/e7/\",\n          \"filename\": \"e71003c6b7dd4093ce139ac0c51a6ba38d54a439\"\n        },\n        \"mediatype\": \"text/plain; charset='UTF-8'\"\n      },\n      {\n        \"id\": \"metadata/provenance/primary.cwlprov.jsonld\",\n        \"mediatype\": \"application/ld+json\",\n        \"conformsTo\": [\n          \"http://www.w3.org/TR/2013/REC-prov-o-20130430/\",\n          \"https://w3id.org/cwl/prov/0.6.0\"\n        ],\n        \"createdOn\": \"2025-11-03T15:14:17.167324\",\n        \"createdBy\": {\n          \"uri\": \"urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60\",\n          \"name\": \"cwltool 3.1.20251031082601\"\n        }\n      },\n      {\n        \"id\": \"workflow/packed.cwl\",\n        \"mediatype\": \"text/x+yaml; charset=\\\"UTF-8\\\"\",\n        \"conformsTo\": \"https://w3id.org/cwl/\",\n        \"createdOn\": \"2025-11-03T15:14:17.167396\",\n        \"createdBy\": {\n          \"uri\": \"urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60\",\n          \"name\": \"cwltool 3.1.20251031082601\"\n        }\n      }\n    ],\n    \"annotations\": [\n      {\n        \"id\": \"urn:uuid:55443a59-6a39-4b4c-89de-871dbceb5b84\",\n        \"about\": \"urn:uuid:f02b8997-a6b1-4909-9946-9129c2b3f10c\",\n        \"content\": [\n          \"provenance/primary.cwlprov.nt\",\n          \"provenance/primary.cwlprov.json\",\n          \"provenance/primary.cwlprov.jsonld\"\n        ]\n      },\n      {\n        \"id\": \"urn:uuid:5ac7d6f3-79c4-4b27-988f-56232cbb9999\",\n        \"about\": \"workflow/packed.cwl\",\n        \"content\": null\n      }\n    ]\n  },\n  \"workflow\": {\n    \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main\",\n    \"type\": \"Workflow\",\n    \"label\": \"Mangrove Mapping Workflow\",\n    \"hasInput\": [\n      {\n        \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/cloud_cover_max\",\n        \"type\": \"Input\",\n        \"label\": \"cloud_cover_max\",\n        \"description\": \"Maximum cloud coverage percentage\"\n      },\n      {\n        \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/days_back\",\n        \"type\": \"Input\",\n        \"label\": \"days_back\",\n        \"description\": \"Number of days to look back for imagery\"\n      },\n      {\n        \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/east\",\n        \"type\": \"Input\",\n        \"label\": \"east\",\n        \"description\": \"Eastern boundary longitude\"\n      },\n      {\n        \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/north\",\n        \"type\": \"Input\",\n        \"label\": \"north\",\n        \"description\": \"Northern boundary latitude\"\n      }\n    ],\n    \"hasOutput\": [\n      {\n        \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/outputs\",\n        \"type\": \"Output\",\n        \"label\": \"outputs\",\n        \"description\": \"Processed mangrove mapping results\"\n      }\n    ]\n  },\n  \"workflowRun\": {\n    \"id\": \"urn:uuid:f02b8997-a6b1-4909-9946-9129c2b3f10c\",\n    \"type\": \"WorkflowRun\",\n    \"label\": \"Run of workflow/packed.cwl#main\",\n    \"describedByWorkflow\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main\",\n    \"startedAtTime\": \"2025-11-03T15:14:02.032122\",\n    \"endedAtTime\": \"2025-11-03T15:14:17.060218\",\n    \"wasAssociatedWith\": [\n      {\n        \"id\": \"urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60\",\n        \"type\": \"WorkflowEngine\",\n        \"label\": \"cwltool 3.1.20251031082601\"\n      },\n      {\n        \"id\": \"urn:uuid:2dee96f7-ed94-4ef7-8562-6f26cdecd46f\",\n        \"type\": \"Agent\",\n        \"label\": \"Container execution of image r2d-2ftmp-2frepo2cwl-5fzbz5cbsp-2frepo1762182696\"\n      }\n    ],\n    \"used\": [\n      {\n        \"id\": \"urn:uuid:192e18cb-9182-4147-ad13-03076e7a3b3d\",\n        \"value\": 20.0,\n        \"hadRole\": \"cloud_cover_max\"\n      },\n      {\n        \"id\": \"urn:uuid:91b4ec49-d11a-4407-9685-032bf7e95258\",\n        \"value\": 90,\n        \"hadRole\": \"days_back\"\n      },\n      {\n        \"id\": \"urn:uuid:ced76ef7-e660-4798-9442-06c17a45bbea\",\n        \"value\": 95.35,\n        \"hadRole\": \"east\"\n      },\n      {\n        \"id\": \"urn:uuid:fd57ac88-8716-40ed-8945-f83914857523\",\n        \"value\": 16.1,\n        \"hadRole\": \"north\"\n      }\n    ],\n    \"generated\": [\n      {\n        \"id\": \"urn:uuid:83c8708e-ccbd-494e-b939-1298b65b1539\",\n        \"type\": \"Artifact\",\n        \"basename\": \"outputs\"\n      }\n    ]\n  },\n  \"manifest\": {\n    \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/metadata/manifest.json\",\n    \"type\": \"Manifest\",\n    \"conformsTo\": \"https://w3id.org/bundle/2014-11-05/\",\n    \"authoredBy\": {\n      \"id\": \"urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60\",\n      \"name\": \"cwltool 3.1.20251031082601\"\n    },\n    \"authoredOn\": \"2025-11-03T15:14:17.166945\",\n    \"retrievedFrom\": \"https://w3id.org/cwl/prov/0.6.0\",\n    \"describes\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/\"\n  },\n  \"metadata\": {\n    \"created\": \"2025-11-03T15:14:17Z\",\n    \"creator\": \"cwltool 3.1.20251031082601\",\n    \"description\": \"Complete provenance trace for mangrove mapping workflow execution using CWL and Sentinel-2 imagery\",\n    \"keywords\": [\n      \"mangrove\",\n      \"remote-sensing\",\n      \"sentinel-2\",\n      \"cwl\",\n      \"provenance\",\n      \"workflow\"\n    ]\n  }\n}\n",
          "url": "https://ogcincubator.github.io/bblocks-wf4ever/build/tests/bbr/wf4ever/wf4ever-profiles/complete-provenance-trace/example_1_1.json"
        },
        {
          "language": "jsonld",
          "code": "{\n  \"@context\": \"https://ogcincubator.github.io/bblocks-wf4ever/build/annotated/bbr/wf4ever/wf4ever-profiles/complete-provenance-trace/context.jsonld\",\n  \"researchObject\": {\n    \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/\",\n    \"type\": \"ResearchObject\",\n    \"conformsTo\": \"https://w3id.org/cwl/prov/0.6.0\",\n    \"manifest\": \"metadata/manifest.json\",\n    \"createdOn\": \"2025-11-03T15:14:17.166945\",\n    \"createdBy\": {\n      \"uri\": \"urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60\",\n      \"name\": \"cwltool 3.1.20251031082601\"\n    },\n    \"aggregates\": [\n      {\n        \"id\": \"urn:hash::sha1:e71003c6b7dd4093ce139ac0c51a6ba38d54a439\",\n        \"bundledAs\": {\n          \"uri\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/data/e7/e71003c6b7dd4093ce139ac0c51a6ba38d54a439\",\n          \"folder\": \"/data/e7/\",\n          \"filename\": \"e71003c6b7dd4093ce139ac0c51a6ba38d54a439\"\n        },\n        \"mediatype\": \"text/plain; charset='UTF-8'\"\n      },\n      {\n        \"id\": \"metadata/provenance/primary.cwlprov.jsonld\",\n        \"mediatype\": \"application/ld+json\",\n        \"conformsTo\": [\n          \"http://www.w3.org/TR/2013/REC-prov-o-20130430/\",\n          \"https://w3id.org/cwl/prov/0.6.0\"\n        ],\n        \"createdOn\": \"2025-11-03T15:14:17.167324\",\n        \"createdBy\": {\n          \"uri\": \"urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60\",\n          \"name\": \"cwltool 3.1.20251031082601\"\n        }\n      },\n      {\n        \"id\": \"workflow/packed.cwl\",\n        \"mediatype\": \"text/x+yaml; charset=\\\"UTF-8\\\"\",\n        \"conformsTo\": \"https://w3id.org/cwl/\",\n        \"createdOn\": \"2025-11-03T15:14:17.167396\",\n        \"createdBy\": {\n          \"uri\": \"urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60\",\n          \"name\": \"cwltool 3.1.20251031082601\"\n        }\n      }\n    ],\n    \"annotations\": [\n      {\n        \"id\": \"urn:uuid:55443a59-6a39-4b4c-89de-871dbceb5b84\",\n        \"about\": \"urn:uuid:f02b8997-a6b1-4909-9946-9129c2b3f10c\",\n        \"content\": [\n          \"provenance/primary.cwlprov.nt\",\n          \"provenance/primary.cwlprov.json\",\n          \"provenance/primary.cwlprov.jsonld\"\n        ]\n      },\n      {\n        \"id\": \"urn:uuid:5ac7d6f3-79c4-4b27-988f-56232cbb9999\",\n        \"about\": \"workflow/packed.cwl\",\n        \"content\": null\n      }\n    ]\n  },\n  \"workflow\": {\n    \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main\",\n    \"type\": \"Workflow\",\n    \"label\": \"Mangrove Mapping Workflow\",\n    \"hasInput\": [\n      {\n        \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/cloud_cover_max\",\n        \"type\": \"Input\",\n        \"label\": \"cloud_cover_max\",\n        \"description\": \"Maximum cloud coverage percentage\"\n      },\n      {\n        \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/days_back\",\n        \"type\": \"Input\",\n        \"label\": \"days_back\",\n        \"description\": \"Number of days to look back for imagery\"\n      },\n      {\n        \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/east\",\n        \"type\": \"Input\",\n        \"label\": \"east\",\n        \"description\": \"Eastern boundary longitude\"\n      },\n      {\n        \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/north\",\n        \"type\": \"Input\",\n        \"label\": \"north\",\n        \"description\": \"Northern boundary latitude\"\n      }\n    ],\n    \"hasOutput\": [\n      {\n        \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/outputs\",\n        \"type\": \"Output\",\n        \"label\": \"outputs\",\n        \"description\": \"Processed mangrove mapping results\"\n      }\n    ]\n  },\n  \"workflowRun\": {\n    \"id\": \"urn:uuid:f02b8997-a6b1-4909-9946-9129c2b3f10c\",\n    \"type\": \"WorkflowRun\",\n    \"label\": \"Run of workflow/packed.cwl#main\",\n    \"describedByWorkflow\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main\",\n    \"startedAtTime\": \"2025-11-03T15:14:02.032122\",\n    \"endedAtTime\": \"2025-11-03T15:14:17.060218\",\n    \"wasAssociatedWith\": [\n      {\n        \"id\": \"urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60\",\n        \"type\": \"WorkflowEngine\",\n        \"label\": \"cwltool 3.1.20251031082601\"\n      },\n      {\n        \"id\": \"urn:uuid:2dee96f7-ed94-4ef7-8562-6f26cdecd46f\",\n        \"type\": \"Agent\",\n        \"label\": \"Container execution of image r2d-2ftmp-2frepo2cwl-5fzbz5cbsp-2frepo1762182696\"\n      }\n    ],\n    \"used\": [\n      {\n        \"id\": \"urn:uuid:192e18cb-9182-4147-ad13-03076e7a3b3d\",\n        \"value\": 20.0,\n        \"hadRole\": \"cloud_cover_max\"\n      },\n      {\n        \"id\": \"urn:uuid:91b4ec49-d11a-4407-9685-032bf7e95258\",\n        \"value\": 90,\n        \"hadRole\": \"days_back\"\n      },\n      {\n        \"id\": \"urn:uuid:ced76ef7-e660-4798-9442-06c17a45bbea\",\n        \"value\": 95.35,\n        \"hadRole\": \"east\"\n      },\n      {\n        \"id\": \"urn:uuid:fd57ac88-8716-40ed-8945-f83914857523\",\n        \"value\": 16.1,\n        \"hadRole\": \"north\"\n      }\n    ],\n    \"generated\": [\n      {\n        \"id\": \"urn:uuid:83c8708e-ccbd-494e-b939-1298b65b1539\",\n        \"type\": \"Artifact\",\n        \"basename\": \"outputs\"\n      }\n    ]\n  },\n  \"manifest\": {\n    \"id\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/metadata/manifest.json\",\n    \"type\": \"Manifest\",\n    \"conformsTo\": \"https://w3id.org/bundle/2014-11-05/\",\n    \"authoredBy\": {\n      \"id\": \"urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60\",\n      \"name\": \"cwltool 3.1.20251031082601\"\n    },\n    \"authoredOn\": \"2025-11-03T15:14:17.166945\",\n    \"retrievedFrom\": \"https://w3id.org/cwl/prov/0.6.0\",\n    \"describes\": \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/\"\n  },\n  \"metadata\": {\n    \"created\": \"2025-11-03T15:14:17Z\",\n    \"creator\": \"cwltool 3.1.20251031082601\",\n    \"description\": \"Complete provenance trace for mangrove mapping workflow execution using CWL and Sentinel-2 imagery\",\n    \"keywords\": [\n      \"mangrove\",\n      \"remote-sensing\",\n      \"sentinel-2\",\n      \"cwl\",\n      \"provenance\",\n      \"workflow\"\n    ]\n  }\n}",
          "url": "https://ogcincubator.github.io/bblocks-wf4ever/build/tests/bbr/wf4ever/wf4ever-profiles/complete-provenance-trace/example_1_1.jsonld"
        },
        {
          "language": "ttl",
          "code": "@prefix : <http://purl.org/wf4ever/> .\n@prefix dcat: <http://www.w3.org/ns/dcat#> .\n@prefix dct: <http://purl.org/dc/terms/> .\n@prefix ns1: <http://purl.org/wf4ever/profiles#> .\n@prefix ore: <http://www.openarchives.org/ore/terms/> .\n@prefix prov: <http://www.w3.org/ns/prov#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix ro: <http://purl.org/wf4ever/ro#> .\n@prefix wfdesc: <http://purl.org/wf4ever/wfdesc#> .\n@prefix wfprov: <http://purl.org/wf4ever/wfprov#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n\n<arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/metadata/manifest.json> ro:authoredBy <urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60> ;\n    ro:authoredOn \"2025-11-03T15:14:17.166945\" ;\n    ro:conformsTo \"https://w3id.org/bundle/2014-11-05/\" ;\n    ro:retrievedFrom \"https://w3id.org/cwl/prov/0.6.0\" ;\n    ro:type \"Manifest\" ;\n    ore:describes <arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/> .\n\n<arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/cloud_cover_max> :label \"cloud_cover_max\" ;\n    :type \"Input\" ;\n    rdfs:comment \"Maximum cloud coverage percentage\" .\n\n<arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/days_back> :label \"days_back\" ;\n    :type \"Input\" ;\n    rdfs:comment \"Number of days to look back for imagery\" .\n\n<arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/east> :label \"east\" ;\n    :type \"Input\" ;\n    rdfs:comment \"Eastern boundary longitude\" .\n\n<arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/north> :label \"north\" ;\n    :type \"Input\" ;\n    rdfs:comment \"Northern boundary latitude\" .\n\n<arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/outputs> :label \"outputs\" ;\n    :type \"Output\" ;\n    rdfs:comment \"Processed mangrove mapping results\" .\n\n<file:///github/workspace/metadata/provenance/primary.cwlprov.jsonld> ro:conformsTo \"http://www.w3.org/TR/2013/REC-prov-o-20130430/\",\n        \"https://w3id.org/cwl/prov/0.6.0\" ;\n    ro:createdBy [ rdfs:label \"cwltool 3.1.20251031082601\" ;\n            ro:uri \"urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60\" ] ;\n    ro:createdOn \"2025-11-03T15:14:17.167324\" ;\n    ro:mediatype \"application/ld+json\" .\n\n<file:///github/workspace/workflow/packed.cwl> ro:conformsTo \"https://w3id.org/cwl/\" ;\n    ro:createdBy [ rdfs:label \"cwltool 3.1.20251031082601\" ;\n            ro:uri \"urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60\" ] ;\n    ro:createdOn \"2025-11-03T15:14:17.167396\" ;\n    ro:mediatype \"text/x+yaml; charset=\\\"UTF-8\\\"\" .\n\n<urn:hash::sha1:e71003c6b7dd4093ce139ac0c51a6ba38d54a439> ro:bundledAs [ ro:filename \"e71003c6b7dd4093ce139ac0c51a6ba38d54a439\" ;\n            ro:folder \"/data/e7/\" ;\n            ro:uri \"arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/data/e7/e71003c6b7dd4093ce139ac0c51a6ba38d54a439\" ] ;\n    ro:mediatype \"text/plain; charset='UTF-8'\" .\n\n<urn:uuid:192e18cb-9182-4147-ad13-03076e7a3b3d> prov:hadRole <file:///github/workspace/cloud_cover_max> ;\n    prov:value 2e+01 .\n\n<urn:uuid:2dee96f7-ed94-4ef7-8562-6f26cdecd46f> a prov:Agent ;\n    wfprov:label \"Container execution of image r2d-2ftmp-2frepo2cwl-5fzbz5cbsp-2frepo1762182696\" .\n\n<urn:uuid:55443a59-6a39-4b4c-89de-871dbceb5b84> ro:about \"urn:uuid:f02b8997-a6b1-4909-9946-9129c2b3f10c\" ;\n    ro:content \"provenance/primary.cwlprov.json\",\n        \"provenance/primary.cwlprov.jsonld\",\n        \"provenance/primary.cwlprov.nt\" .\n\n<urn:uuid:5ac7d6f3-79c4-4b27-988f-56232cbb9999> ro:about \"workflow/packed.cwl\" .\n\n<urn:uuid:83c8708e-ccbd-494e-b939-1298b65b1539> a wfprov:Artifact ;\n    wfprov:basename \"outputs\" .\n\n<urn:uuid:91b4ec49-d11a-4407-9685-032bf7e95258> prov:hadRole <file:///github/workspace/days_back> ;\n    prov:value 90 .\n\n<urn:uuid:ced76ef7-e660-4798-9442-06c17a45bbea> prov:hadRole <file:///github/workspace/east> ;\n    prov:value 9.535e+01 .\n\n<urn:uuid:f02b8997-a6b1-4909-9946-9129c2b3f10c> a wfprov:WorkflowRun ;\n    wfprov:describedByWorkflow <arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main> ;\n    wfprov:label \"Run of workflow/packed.cwl#main\" ;\n    prov:endedAtTime \"2025-11-03T15:14:17.060218\"^^xsd:dateTime ;\n    prov:generated <urn:uuid:83c8708e-ccbd-494e-b939-1298b65b1539> ;\n    prov:startedAtTime \"2025-11-03T15:14:02.032122\"^^xsd:dateTime ;\n    prov:used <urn:uuid:192e18cb-9182-4147-ad13-03076e7a3b3d>,\n        <urn:uuid:91b4ec49-d11a-4407-9685-032bf7e95258>,\n        <urn:uuid:ced76ef7-e660-4798-9442-06c17a45bbea>,\n        <urn:uuid:fd57ac88-8716-40ed-8945-f83914857523> ;\n    prov:wasAssociatedWith <urn:uuid:2dee96f7-ed94-4ef7-8562-6f26cdecd46f>,\n        <urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60> .\n\n<urn:uuid:fd57ac88-8716-40ed-8945-f83914857523> prov:hadRole <file:///github/workspace/north> ;\n    prov:value 1.61e+01 .\n\n<arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/> ro:annotations <urn:uuid:55443a59-6a39-4b4c-89de-871dbceb5b84>,\n        <urn:uuid:5ac7d6f3-79c4-4b27-988f-56232cbb9999> ;\n    ro:conformsTo \"https://w3id.org/cwl/prov/0.6.0\" ;\n    ro:createdBy [ rdfs:label \"cwltool 3.1.20251031082601\" ;\n            ro:uri \"urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60\" ] ;\n    ro:createdOn \"2025-11-03T15:14:17.166945\" ;\n    ro:manifest <file:///github/workspace/metadata/manifest.json> ;\n    ro:type \"ResearchObject\" ;\n    ore:aggregates <file:///github/workspace/metadata/provenance/primary.cwlprov.jsonld>,\n        <file:///github/workspace/workflow/packed.cwl>,\n        <urn:hash::sha1:e71003c6b7dd4093ce139ac0c51a6ba38d54a439> .\n\n<arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main> :label \"Mangrove Mapping Workflow\" ;\n    :type \"Workflow\" ;\n    wfdesc:hasInput <arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/cloud_cover_max>,\n        <arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/days_back>,\n        <arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/east>,\n        <arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/north> ;\n    wfdesc:hasOutput <arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main/outputs> .\n\n<urn:uuid:5b925446-32a4-4104-9724-fa7360e1ef60> a wfprov:WorkflowEngine ;\n    rdfs:label \"cwltool 3.1.20251031082601\" ;\n    wfprov:label \"cwltool 3.1.20251031082601\" .\n\n[] ns1:metadata [ dct:created \"2025-11-03T15:14:17+00:00\"^^xsd:dateTime ;\n            dct:creator <file:///github/workspace/> ;\n            dct:description \"Complete provenance trace for mangrove mapping workflow execution using CWL and Sentinel-2 imagery\" ;\n            dcat:keyword \"cwl\",\n                \"mangrove\",\n                \"provenance\",\n                \"remote-sensing\",\n                \"sentinel-2\",\n                \"workflow\" ] ;\n    ro:Manifest <arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/metadata/manifest.json> ;\n    ro:ResearchObject <arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/> ;\n    wfdesc:Workflow <arcp://uuid,f02b8997-a6b1-4909-9946-9129c2b3f10c/workflow/packed.cwl#main> ;\n    wfprov:WorkflowRun <urn:uuid:f02b8997-a6b1-4909-9946-9129c2b3f10c> .\n\n",
          "url": "https://ogcincubator.github.io/bblocks-wf4ever/build/tests/bbr/wf4ever/wf4ever-profiles/complete-provenance-trace/example_1_1.ttl"
        }
      ]
    }
  ],
  "annotatedSchema": "$schema: https://json-schema.org/draft/2020-12/schema\ndescription: Complete workflow provenance trace combining Research Object, Workflow\n  Description, and Execution Provenance\ntype: object\nproperties:\n  researchObject:\n    description: The Research Object container aggregating all workflow resources\n    allOf:\n    - $ref: https://ogcincubator.github.io/bblocks-wf4ever/build/annotated/bbr/wf4ever/ro/ResearchObject/schema.yaml\n    x-jsonld-id: http://purl.org/wf4ever/ro#ResearchObject\n    x-jsonld-type: '@id'\n  workflow:\n    description: The workflow description (prospective provenance)\n    allOf:\n    - $ref: https://ogcincubator.github.io/bblocks-wf4ever/build/annotated/bbr/wf4ever/wfdesc/Workflow/schema.yaml\n    x-jsonld-id: http://purl.org/wf4ever/wfdesc#Workflow\n    x-jsonld-type: '@id'\n  workflowRun:\n    description: The workflow execution trace (retrospective provenance)\n    allOf:\n    - $ref: https://ogcincubator.github.io/bblocks-wf4ever/build/annotated/bbr/wf4ever/wfprov/WorkflowRun/schema.yaml\n    x-jsonld-id: http://purl.org/wf4ever/wfprov#WorkflowRun\n    x-jsonld-type: '@id'\n  manifest:\n    description: The RO manifest describing the research object\n    allOf:\n    - $ref: https://ogcincubator.github.io/bblocks-wf4ever/build/annotated/bbr/wf4ever/ro/Manifest/schema.yaml\n    x-jsonld-id: http://purl.org/wf4ever/ro#Manifest\n    x-jsonld-type: '@id'\n  metadata:\n    type: object\n    description: Additional metadata about the complete trace\n    properties:\n      created:\n        type: string\n        format: date-time\n        description: When this trace was created\n        x-jsonld-id: http://purl.org/dc/terms/created\n        x-jsonld-type: http://www.w3.org/2001/XMLSchema#dateTime\n      creator:\n        type: string\n        description: Who created this trace\n        x-jsonld-id: http://purl.org/dc/terms/creator\n        x-jsonld-type: '@id'\n      description:\n        type: string\n        description: Human-readable description of this workflow execution\n        x-jsonld-id: http://purl.org/dc/terms/description\n      keywords:\n        type: array\n        items:\n          type: string\n        description: Keywords describing this workflow and execution\n        x-jsonld-id: http://www.w3.org/ns/dcat#keyword\n    x-jsonld-id: http://purl.org/wf4ever/profiles#metadata\nrequired:\n- researchObject\n- workflow\n- workflowRun\nx-jsonld-extra-terms:\n  CompleteProvenanceTrace: http://purl.org/wf4ever/profiles#CompleteProvenanceTrace\nx-jsonld-vocab: http://purl.org/wf4ever/\nx-jsonld-prefixes:\n  wfdesc: http://purl.org/wf4ever/wfdesc#\n  wfprov: http://purl.org/wf4ever/wfprov#\n  ro: http://purl.org/wf4ever/ro#\n  prov: http://www.w3.org/ns/prov#\n  ore: http://www.openarchives.org/ore/terms/\n  dcat: http://www.w3.org/ns/dcat#\n  dcterms: http://purl.org/dc/terms/\n  foaf: http://xmlns.com/foaf/0.1/\n  rdfs: http://www.w3.org/2000/01/rdf-schema#\n",
  "gitRepository": "https://github.com/ogcincubator/bblocks-wf4ever",
  "gitPath": "_sources/wf4ever-profiles/complete-provenance-trace"
}