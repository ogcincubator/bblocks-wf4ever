@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix wfdesc: <http://purl.org/wf4ever/wfdesc#> .

<http://example.org/workflows/ndvi> a wfdesc:Workflow ;
    rdfs:label "NDVI Calculation Pipeline" ;
    wfdesc:hasDataLink <file:///github/workspace/#link-nir>,
        <file:///github/workspace/#link-red> ;
    wfdesc:hasInput <file:///github/workspace/#wf-input> ;
    wfdesc:hasOutput <file:///github/workspace/#wf-output> ;
    wfdesc:hasSubProcess <file:///github/workspace/#calculate-ndvi>,
        <file:///github/workspace/#extract-bands> ;
    rdfs:comment "Complete workflow for NDVI calculation from satellite imagery" .

<file:///github/workspace/#calculate-ndvi> a wfdesc:Process ;
    rdfs:label "Calculate NDVI" ;
    wfdesc:hasInput <file:///github/workspace/#ndvi-nir-input>,
        <file:///github/workspace/#ndvi-red-input> ;
    wfdesc:hasOutput <file:///github/workspace/#ndvi-result> ;
    rdfs:comment "Compute NDVI from bands" .

<file:///github/workspace/#extract-bands> a wfdesc:Process ;
    rdfs:label "Extract Bands" ;
    wfdesc:hasInput <file:///github/workspace/#extract-input> ;
    wfdesc:hasOutput <file:///github/workspace/#nir-band>,
        <file:///github/workspace/#red-band> ;
    rdfs:comment "Extract NIR and Red bands" .

<file:///github/workspace/#extract-input> a wfdesc:Input .

<file:///github/workspace/#link-nir> a wfdesc:DataLink ;
    wfdesc:hasSink <file:///github/workspace/#ndvi-nir-input> ;
    wfdesc:hasSource <file:///github/workspace/#nir-band> .

<file:///github/workspace/#link-red> a wfdesc:DataLink ;
    wfdesc:hasSink <file:///github/workspace/#ndvi-red-input> ;
    wfdesc:hasSource <file:///github/workspace/#red-band> .

<file:///github/workspace/#ndvi-result> a wfdesc:Output ;
    rdfs:label "ndvi" .

<file:///github/workspace/#wf-input> a wfdesc:Input ;
    rdfs:label "satelliteImage" ;
    rdfs:comment "Input satellite image (multispectral)" .

<file:///github/workspace/#wf-output> a wfdesc:Output ;
    rdfs:label "ndviResult" ;
    rdfs:comment "Calculated NDVI raster" .

<file:///github/workspace/#ndvi-nir-input> a wfdesc:Input ;
    rdfs:label "nir" .

<file:///github/workspace/#ndvi-red-input> a wfdesc:Input ;
    rdfs:label "red" .

<file:///github/workspace/#nir-band> a wfdesc:Output ;
    rdfs:label "nirBand" .

<file:///github/workspace/#red-band> a wfdesc:Output ;
    rdfs:label "redBand" .

